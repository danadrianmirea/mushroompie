                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.1.6 #12533 (MINGW32)
                                      4 ;--------------------------------------------------------
                                      5 	.module 00_sound
                                      6 	.optsdcc -mgbz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _FX_ADDR_LO
                                     12 	.globl _FX_REG_SIZES
                                     13 	.globl _PlayFx
                                     14 ;--------------------------------------------------------
                                     15 ; special function registers
                                     16 ;--------------------------------------------------------
                                     17 ;--------------------------------------------------------
                                     18 ; ram data
                                     19 ;--------------------------------------------------------
                                     20 	.area _DATA
                                     21 ;--------------------------------------------------------
                                     22 ; ram data
                                     23 ;--------------------------------------------------------
                                     24 	.area _INITIALIZED
                                     25 ;--------------------------------------------------------
                                     26 ; absolute external ram data
                                     27 ;--------------------------------------------------------
                                     28 	.area _DABS (ABS)
                                     29 ;--------------------------------------------------------
                                     30 ; global & static initialisations
                                     31 ;--------------------------------------------------------
                                     32 	.area _HOME
                                     33 	.area _GSINIT
                                     34 	.area _GSFINAL
                                     35 	.area _GSINIT
                                     36 ;--------------------------------------------------------
                                     37 ; Home
                                     38 ;--------------------------------------------------------
                                     39 	.area _HOME
                                     40 	.area _HOME
                                     41 ;--------------------------------------------------------
                                     42 ; code
                                     43 ;--------------------------------------------------------
                                     44 	.area _CODE
                                     45 ;src/00_sound.c:6: void PlayFx(SOUND_CHANNEL channel, UINT8 mute_frames, ...) __naked {
                                     46 ;	---------------------------------
                                     47 ; Function PlayFx
                                     48 ; ---------------------------------
      000000                         49 _PlayFx::
                                     50 ;src/00_sound.c:35: __endasm;
      000000 C5                      51 	push	BC
      000001 F8 04                   52 	lda	HL, 4(SP)
      000003 06 00                   53 	ld	B, #0
      000005 4E                      54 	ld	C, (HL) ; BC = channel
      000006 21r1Dr00                55 	ld	HL, #_FX_REG_SIZES
      000009 09                      56 	add	HL, BC
      00000A 5E                      57 	ld	E, (HL) ; E = FX_REG_SIZES[channel]
      00000B 21r22r00                58 	ld	HL, #_FX_ADDR_LO
      00000E 09                      59 	add	HL, BC
      00000F 06 FF                   60 	ld	B, #0xFF
      000011 4E                      61 	ld	C, (HL) ; BC = 0xFF00 + FX_ADDR_LO[channel]
      000012 F8 06                   62 	lda	HL, 6(SP)
      000014                         63 	1$:
      000014 2A                      64 	ld	A, (HL+)
      000015 23                      65 	inc	HL
      000016 02                      66 	ld	(BC), A
      000017 03                      67 	inc	BC
      000018 1D                      68 	dec	E
      000019 20 F9                   69 	jr	NZ, 1$
      00001B C1                      70 	pop	BC
      00001C C9                      71 	ret
                                     72 ;src/00_sound.c:36: }
                                     73 	.area _CODE
      00001D                         74 _FX_REG_SIZES:
      00001D 05                      75 	.db #0x05	; 5
      00001E 04                      76 	.db #0x04	; 4
      00001F 05                      77 	.db #0x05	; 5
      000020 04                      78 	.db #0x04	; 4
      000021 03                      79 	.db #0x03	; 3
      000022                         80 _FX_ADDR_LO:
      000022 10                      81 	.db #0x10	; 16
      000023 16                      82 	.db #0x16	; 22
      000024 1A                      83 	.db #0x1a	; 26
      000025 20                      84 	.db #0x20	; 32
      000026 24                      85 	.db #0x24	; 36
                                     86 	.area _INITIALIZER
                                     87 	.area _CABS (ABS)
